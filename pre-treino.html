<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PrÃ©-Treino | Coreano Suplementos</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="navbar">
    <div>
      <a href="index.html">InÃ­cio</a>
      <a href="produtos.html">Produtos</a>
      <a href="#">Contato</a>
      <span class="cart-icon" id="cart-icon">
        <span class="emoji-cart">ðŸ›’</span>
        <span class="quantidade-carrinho" id="quantidade-carrinho">0</span>
      </span>
    </div>
  </div>

  <main class="produtos-container">
    <h2>PrÃ©-Treino</h2>
    <div class="produtos-grid" id="produtos-lista">
      <!-- Produtos serÃ£o carregados aqui via JS -->
    </div>
  </main>

  <div class="modal-carrinho" id="modal-carrinho">
    <h3>Seu Carrinho</h3>
    <div id="itens-carrinho"></div>
    <div class="resumo-pedido">
      <h4>Resumo do Pedido</h4>
      <ul id="lista-resumo"></ul>
      <p><strong>Total: R$ <span id="total-pedido">0,00</span></strong></p>
      <button class="btn-finalizar" onclick="finalizarCompraCarrinho()">Finalizar Compra no WhatsApp</button>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Coreano Suplementos. Todos os direitos reservados.</p>
  </footer>

  <script src="js/carrinho.js"></script>
  <script>
    const categoriaAtual = "pre-treino";
    const produtosSalvos = JSON.parse(localStorage.getItem("produtos")) || [];

    const lista = document.getElementById("produtos-lista");

    const produtosFiltrados = produtosSalvos.filter(p => p.categoria === categoriaAtual);

    if (produtosFiltrados.length === 0) {
      lista.innerHTML = "<p>Em breve vocÃª verÃ¡ nossos produtos dessa categoria aqui.</p>";
    } else {
      produtosFiltrados.forEach((produto, index) => {
        const card = document.createElement("div");
        card.className = "produto-card";

        card.innerHTML = `
          <img src="${produto.imagem}" alt="${produto.nome}" />
          <h3>${produto.nome}</h3>
          <p>R$${parseFloat(produto.preco).toFixed(2)}</p>
          <button onclick="adicionarCarrinhoDinamico('${produto.id}', '${produto.nome}', ${produto.preco})">Comprar</button>
        `;

        lista.appendChild(card);
      });
    }
  </script>
</body>
</html>
